{"ast":null,"code":"var _jsxFileName = \"/Users/prashanthdevarapalli/source/my-app/client/src/pages/MarketplacePage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SpinnerIcon = ({\n  color = 'text-white'\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: `animate-spin -ml-1 mr-3 h-5 w-5 ${color}`,\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    className: \"opacity-25\",\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\",\n    stroke: \"currentColor\",\n    strokeWidth: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    className: \"opacity-75\",\n    fill: \"currentColor\",\n    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 5\n}, this);\n_c = SpinnerIcon;\nconst CameraModal = ({\n  onClose,\n  onCapture\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  useEffect(() => {\n    const startCamera = async () => {\n      try {\n        const mediaStream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        setStream(mediaStream);\n        if (videoRef.current) {\n          videoRef.current.srcObject = mediaStream;\n        }\n      } catch (err) {\n        console.error(\"Error accessing camera:\", err);\n        onClose();\n      }\n    };\n    if (!capturedImage) {\n      startCamera();\n    }\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [capturedImage, stream, onClose]);\n  const handleCapture = () => {\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    if (video && canvas) {\n      const context = canvas.getContext('2d');\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n      const imageUrl = canvas.toDataURL('image/jpeg');\n      setCapturedImage(imageUrl);\n      stream.getTracks().forEach(track => track.stop());\n    }\n  };\n  const handleUsePicture = () => {\n    if (capturedImage) {\n      fetch(capturedImage).then(res => res.blob()).then(blob => {\n        const file = new File([blob], `capture-${Date.now()}.jpg`, {\n          type: 'image/jpeg'\n        });\n        onCapture(file);\n      });\n    }\n  };\n  const handleRetake = () => {\n    setCapturedImage(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-xl max-w-lg w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold mb-4\",\n        children: capturedImage ? 'Preview' : 'Live Camera'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          className: `w-full rounded ${capturedImage ? 'hidden' : 'block'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), capturedImage && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: capturedImage,\n          alt: \"Captured\",\n          className: \"w-full rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end gap-4\",\n        children: capturedImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRetake,\n            className: \"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300\",\n            children: \"Retake\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUsePicture,\n            className: \"py-2 px-4 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700\",\n            children: \"Use Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCapture,\n            className: \"py-2 px-4 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700\",\n            children: \"Take Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(CameraModal, \"RZDc3p9r6HPxY75oKxr/J34XVNo=\");\n_c2 = CameraModal;\nfunction MarketplacePage({\n  onNavigate,\n  token,\n  user\n}) {\n  _s2();\n  const [listings, setListings] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showCamera, setShowCamera] = useState(false);\n  const [title, setTitle] = useState('');\n  const [location, setLocation] = useState('');\n  const [price, setPrice] = useState('');\n  const [imageFiles, setImageFiles] = useState([]);\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const isFormValid = title && location && price && imageFiles.length > 0;\n  const fetchListings = async (query = '') => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(`http://localhost:8000/api/marketplace?search=${encodeURIComponent(query)}`);\n      if (!response.ok) throw new Error('Failed to fetch listings');\n      const data = await response.json();\n      setListings(data);\n    } catch (error) {\n      console.error(\"Error fetching listings:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchListings();\n  }, []);\n  const handleSearch = e => {\n    e.preventDefault();\n    fetchListings(searchTerm);\n  };\n  const handleFileChange = e => {\n    setImageFiles(prev => [...prev, ...Array.from(e.target.files)]);\n  };\n  const handleCameraCapture = file => {\n    setImageFiles(prev => [...prev, file]);\n    setShowCamera(false);\n  };\n  const handleContactSeller = listing => {\n    if (!token) {\n      onNavigate('login');\n      return;\n    }\n    navigate(`/chat/${listing.sellerId}`, {\n      state: {\n        sellerName: listing.sellerName\n      }\n    });\n  };\n  const handleCreateListing = async e => {\n    e.preventDefault();\n    if (!isFormValid) {\n      setError('Title, Location, Price, and at least one Image are required.');\n      return;\n    }\n    setIsUploading(true);\n    setError('');\n    const uploadedImageUrls = [];\n    for (const file of imageFiles) {\n      const formData = new FormData();\n      formData.append('image', file);\n      try {\n        const imageResponse = await fetch('http://localhost:8000/api/marketplace/upload-image', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (!imageResponse.ok) throw new Error('Image upload failed');\n        const imageData = await imageResponse.json();\n        uploadedImageUrls.push(imageData.imageUrl);\n      } catch (err) {\n        setError('Failed to upload one or more images. Please try again.');\n        setIsUploading(false);\n        return;\n      }\n    }\n    try {\n      const listingData = {\n        title,\n        price: parseFloat(price),\n        location,\n        imageUrls: uploadedImageUrls\n      };\n      const listingResponse = await fetch('http://localhost:8000/api/marketplace', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(listingData)\n      });\n      if (!listingResponse.ok) throw new Error('Failed to create listing');\n      setShowCreateForm(false);\n      setTitle('');\n      setLocation('');\n      setPrice('');\n      setImageFiles([]);\n      fetchListings();\n    } catch (err) {\n      setError('Failed to create listing. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [showCamera && /*#__PURE__*/_jsxDEV(CameraModal, {\n      onClose: () => setShowCamera(false),\n      onCapture: handleCameraCapture\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-6 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('home'),\n          className: \"text-purple-600 hover:text-purple-800 font-semibold\",\n          children: \"\\u2190 Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), token && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateForm(!showCreateForm),\n          className: \"py-2 px-4 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors\",\n          children: showCreateForm ? 'Cancel' : '+ Create Listing'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto px-6 py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl md:text-5xl font-bold text-gray-800\",\n          children: \"Desi Marketplace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-2\",\n          children: \"Buy and sell goods within the community.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-lg mb-12 max-w-2xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-6\",\n          children: \"Create a New Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreateListing,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Item Name / Title *\",\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            className: \"w-full p-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Location (e.g., City, State) *\",\n            value: location,\n            onChange: e => setLocation(e.target.value),\n            className: \"w-full p-3 border rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Price (USD) *\",\n            value: price,\n            onChange: e => setPrice(e.target.value),\n            className: \"w-full p-3 border rounded-lg\",\n            step: \"0.01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Upload Image(s) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: handleFileChange,\n                multiple: true,\n                className: \"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowCamera(true),\n                className: \"p-2 bg-gray-200 rounded-full hover:bg-gray-300\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-6 h-6 text-gray-600\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"2\",\n                    d: \"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 134\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"2\",\n                    d: \"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 373\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-xs text-gray-500\",\n              children: [\"You have selected \", imageFiles.length, \" image(s).\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 29\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !isFormValid || isUploading,\n            className: \"w-full py-3 px-6 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center\",\n            children: isUploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(SpinnerIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 50\n              }, this), \" Posting...\"]\n            }, void 0, true) : 'Post Listing'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"max-w-2xl mx-auto mb-12 flex gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Search for items...\",\n          className: \"flex-grow w-full p-3 border rounded-lg shadow-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"py-3 px-6 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        children: \"Loading listings...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",\n        children: listings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"col-span-full text-center\",\n          children: \"No listings found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 50\n        }, this) : listings.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-lg overflow-hidden group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.imageUrls && item.imageUrls.length > 0 ? item.imageUrls[0] : 'https://placehold.co/400x300/e2e8f0/64748b?text=No+Image',\n              alt: item.title,\n              className: \"w-full h-48 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-center justify-center\",\n              children: (user === null || user === void 0 ? void 0 : user.id) !== item.sellerId && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleContactSeller(item),\n                className: \"py-2 px-4 bg-white text-gray-800 font-semibold rounded-lg shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300\",\n                children: \"Contact Seller\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-green-600 my-2\",\n              children: [\"$\", parseFloat(item.price).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4 inline -mt-1 mr-1\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 175\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 336\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 78\n              }, this), item.location]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-t mt-4 pt-4 text-sm text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Seller: \", item.sellerName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Posted: \", new Date(item.createdAt).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 37\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n_s2(MarketplacePage, \"onjUFxQohuosnKVyiftOQq5JC1A=\", false, function () {\n  return [useNavigate];\n});\n_c3 = MarketplacePage;\nexport default MarketplacePage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SpinnerIcon\");\n$RefreshReg$(_c2, \"CameraModal\");\n$RefreshReg$(_c3, \"MarketplacePage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","SpinnerIcon","color","className","xmlns","fill","viewBox","children","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","_c","CameraModal","onClose","onCapture","_s","videoRef","canvasRef","stream","setStream","capturedImage","setCapturedImage","startCamera","mediaStream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","console","error","getTracks","forEach","track","stop","handleCapture","canvas","context","getContext","width","videoWidth","height","videoHeight","drawImage","imageUrl","toDataURL","handleUsePicture","fetch","then","res","blob","file","File","Date","now","type","handleRetake","ref","autoPlay","playsInline","src","alt","onClick","_c2","MarketplacePage","onNavigate","token","user","_s2","listings","setListings","isLoading","setIsLoading","searchTerm","setSearchTerm","showCreateForm","setShowCreateForm","showCamera","setShowCamera","title","setTitle","location","setLocation","price","setPrice","imageFiles","setImageFiles","isUploading","setIsUploading","setError","navigate","isFormValid","length","fetchListings","query","response","encodeURIComponent","ok","Error","data","json","handleSearch","e","preventDefault","handleFileChange","prev","Array","from","target","files","handleCameraCapture","handleContactSeller","listing","sellerId","state","sellerName","handleCreateListing","uploadedImageUrls","formData","FormData","append","imageResponse","method","headers","body","imageData","push","listingData","parseFloat","imageUrls","listingResponse","JSON","stringify","onSubmit","placeholder","value","onChange","step","multiple","strokeLinecap","strokeLinejoin","disabled","map","item","id","toFixed","createdAt","toLocaleDateString","_c3","$RefreshReg$"],"sources":["/Users/prashanthdevarapalli/source/my-app/client/src/pages/MarketplacePage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from \"react-router-dom\";\n\nconst SpinnerIcon = ({ color = 'text-white' }) => (\n    <svg className={`animate-spin -ml-1 mr-3 h-5 w-5 ${color}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n    </svg>\n);\n\nconst CameraModal = ({ onClose, onCapture }) => {\n    const videoRef = useRef(null);\n    const canvasRef = useRef(null);\n    const [stream, setStream] = useState(null);\n    const [capturedImage, setCapturedImage] = useState(null);\n\n    useEffect(() => {\n        const startCamera = async () => {\n            try {\n                const mediaStream = await navigator.mediaDevices.getUserMedia({ video: true });\n                setStream(mediaStream);\n                if (videoRef.current) {\n                    videoRef.current.srcObject = mediaStream;\n                }\n            } catch (err) {\n                console.error(\"Error accessing camera:\", err);\n                onClose();\n            }\n        };\n        if (!capturedImage) {\n            startCamera();\n        }\n        return () => {\n            if (stream) {\n                stream.getTracks().forEach(track => track.stop());\n            }\n        };\n    }, [capturedImage, stream, onClose]);\n\n    const handleCapture = () => {\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        if (video && canvas) {\n            const context = canvas.getContext('2d');\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n            context.drawImage(video, 0, 0, canvas.width, canvas.height);\n            const imageUrl = canvas.toDataURL('image/jpeg');\n            setCapturedImage(imageUrl);\n            stream.getTracks().forEach(track => track.stop());\n        }\n    };\n\n    const handleUsePicture = () => {\n        if (capturedImage) {\n            fetch(capturedImage)\n                .then(res => res.blob())\n                .then(blob => {\n                    const file = new File([blob], `capture-${Date.now()}.jpg`, { type: 'image/jpeg' });\n                    onCapture(file);\n                });\n        }\n    };\n    \n    const handleRetake = () => {\n        setCapturedImage(null);\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-lg w-full\">\n                <h3 className=\"text-xl font-bold mb-4\">{capturedImage ? 'Preview' : 'Live Camera'}</h3>\n                <div className=\"relative\">\n                    <video ref={videoRef} autoPlay playsInline className={`w-full rounded ${capturedImage ? 'hidden' : 'block'}`}></video>\n                    <canvas ref={canvasRef} className=\"hidden\"></canvas>\n                    {capturedImage && <img src={capturedImage} alt=\"Captured\" className=\"w-full rounded\" />}\n                </div>\n                <div className=\"mt-4 flex justify-end gap-4\">\n                    {capturedImage ? (\n                        <>\n                            <button onClick={handleRetake} className=\"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300\">Retake</button>\n                            <button onClick={handleUsePicture} className=\"py-2 px-4 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700\">Use Picture</button>\n                        </>\n                    ) : (\n                        <>\n                            <button onClick={onClose} className=\"py-2 px-4 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300\">Cancel</button>\n                            <button onClick={handleCapture} className=\"py-2 px-4 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700\">Take Picture</button>\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nfunction MarketplacePage({ onNavigate, token, user }) {\n    const [listings, setListings] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [showCreateForm, setShowCreateForm] = useState(false);\n    const [showCamera, setShowCamera] = useState(false);\n\n    const [title, setTitle] = useState('');\n    const [location, setLocation] = useState('');\n    const [price, setPrice] = useState('');\n    const [imageFiles, setImageFiles] = useState([]);\n    const [isUploading, setIsUploading] = useState(false);\n    const [error, setError] = useState('');\n\n    const navigate = useNavigate();\n    const isFormValid = title && location && price && imageFiles.length > 0;\n\n    const fetchListings = async (query = '') => {\n        setIsLoading(true);\n        try {\n            const response = await fetch(`http://localhost:8000/api/marketplace?search=${encodeURIComponent(query)}`);\n            if (!response.ok) throw new Error('Failed to fetch listings');\n            const data = await response.json();\n            setListings(data);\n        } catch (error) {\n            console.error(\"Error fetching listings:\", error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchListings();\n    }, []);\n\n    const handleSearch = (e) => {\n        e.preventDefault();\n        fetchListings(searchTerm);\n    };\n\n    const handleFileChange = (e) => {\n        setImageFiles(prev => [...prev, ...Array.from(e.target.files)]);\n    };\n\n    const handleCameraCapture = (file) => {\n        setImageFiles(prev => [...prev, file]);\n        setShowCamera(false);\n    };\n    \n    const handleContactSeller = (listing) => {\n        if (!token) {\n            onNavigate('login');\n            return;\n        }\n        navigate(`/chat/${listing.sellerId}`, { state: { sellerName: listing.sellerName } });\n    };\n\n    const handleCreateListing = async (e) => {\n        e.preventDefault();\n        if (!isFormValid) {\n            setError('Title, Location, Price, and at least one Image are required.');\n            return;\n        }\n        setIsUploading(true);\n        setError('');\n\n        const uploadedImageUrls = [];\n        for (const file of imageFiles) {\n            const formData = new FormData();\n            formData.append('image', file);\n            try {\n                const imageResponse = await fetch('http://localhost:8000/api/marketplace/upload-image', {\n                    method: 'POST',\n                    headers: { 'Authorization': `Bearer ${token}` },\n                    body: formData,\n                });\n                if (!imageResponse.ok) throw new Error('Image upload failed');\n                const imageData = await imageResponse.json();\n                uploadedImageUrls.push(imageData.imageUrl);\n            } catch (err) {\n                setError('Failed to upload one or more images. Please try again.');\n                setIsUploading(false);\n                return;\n            }\n        }\n\n        try {\n            const listingData = { title, price: parseFloat(price), location, imageUrls: uploadedImageUrls };\n            const listingResponse = await fetch('http://localhost:8000/api/marketplace', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(listingData),\n            });\n            if (!listingResponse.ok) throw new Error('Failed to create listing');\n            \n            setShowCreateForm(false);\n            setTitle('');\n            setLocation('');\n            setPrice('');\n            setImageFiles([]);\n            fetchListings();\n\n        } catch (err) {\n            setError('Failed to create listing. Please try again.');\n        } finally {\n            setIsUploading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gray-100\">\n            {showCamera && <CameraModal onClose={() => setShowCamera(false)} onCapture={handleCameraCapture} />}\n            <header className=\"bg-white shadow-sm\">\n                <div className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\n                    <button onClick={() => onNavigate('home')} className=\"text-purple-600 hover:text-purple-800 font-semibold\">&larr; Back to Home</button>\n                    {token && (\n                        <button onClick={() => setShowCreateForm(!showCreateForm)} className=\"py-2 px-4 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors\">\n                            {showCreateForm ? 'Cancel' : '+ Create Listing'}\n                        </button>\n                    )}\n                </div>\n            </header>\n\n            <main className=\"container mx-auto px-6 py-12\">\n                <div className=\"text-center mb-12\">\n                    <h1 className=\"text-4xl md:text-5xl font-bold text-gray-800\">Desi Marketplace</h1>\n                    <p className=\"text-gray-600 mt-2\">Buy and sell goods within the community.</p>\n                </div>\n\n                {showCreateForm && (\n                    <div className=\"bg-white p-8 rounded-lg shadow-lg mb-12 max-w-2xl mx-auto\">\n                        <h2 className=\"text-2xl font-bold mb-6\">Create a New Listing</h2>\n                        <form onSubmit={handleCreateListing} className=\"space-y-4\">\n                            <input type=\"text\" placeholder=\"Item Name / Title *\" value={title} onChange={e => setTitle(e.target.value)} className=\"w-full p-3 border rounded-lg\" />\n                            <input type=\"text\" placeholder=\"Location (e.g., City, State) *\" value={location} onChange={e => setLocation(e.target.value)} className=\"w-full p-3 border rounded-lg\" />\n                            <input type=\"number\" placeholder=\"Price (USD) *\" value={price} onChange={e => setPrice(e.target.value)} className=\"w-full p-3 border rounded-lg\" step=\"0.01\" />\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Upload Image(s) *</label>\n                                <div className=\"flex items-center gap-4\">\n                                    <input type=\"file\" onChange={handleFileChange} multiple className=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100\"/>\n                                    <button type=\"button\" onClick={() => setShowCamera(true)} className=\"p-2 bg-gray-200 rounded-full hover:bg-gray-300\">\n                                        <svg className=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"></path><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"></path></svg>\n                                    </button>\n                                </div>\n                                <div className=\"mt-2 text-xs text-gray-500\">You have selected {imageFiles.length} image(s).</div>\n                            </div>\n                            {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n                            <button type=\"submit\" disabled={!isFormValid || isUploading} className=\"w-full py-3 px-6 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center\">\n                                {isUploading ? <><SpinnerIcon /> Posting...</> : 'Post Listing'}\n                            </button>\n                        </form>\n                    </div>\n                )}\n\n                <form onSubmit={handleSearch} className=\"max-w-2xl mx-auto mb-12 flex gap-4\">\n                    <input type=\"text\" value={searchTerm} onChange={e => setSearchTerm(e.target.value)} placeholder=\"Search for items...\" className=\"flex-grow w-full p-3 border rounded-lg shadow-sm\" />\n                    <button type=\"submit\" className=\"py-3 px-6 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 transition-colors\">Search</button>\n                </form>\n\n                {isLoading ? <p className=\"text-center\">Loading listings...</p> : (\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n                        {listings.length === 0 ? <p className=\"col-span-full text-center\">No listings found.</p> :\n                            listings.map(item => (\n                                <div key={item.id} className=\"bg-white rounded-lg shadow-lg overflow-hidden group\">\n                                    <div className=\"relative\">\n                                        <img src={(item.imageUrls && item.imageUrls.length > 0) ? item.imageUrls[0] : 'https://placehold.co/400x300/e2e8f0/64748b?text=No+Image'} alt={item.title} className=\"w-full h-48 object-cover\" />\n                                        <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-center justify-center\">\n                                            {user?.id !== item.sellerId && (\n                                                <button \n                                                    onClick={() => handleContactSeller(item)}\n                                                    className=\"py-2 px-4 bg-white text-gray-800 font-semibold rounded-lg shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n                                                >\n                                                    Contact Seller\n                                                </button>\n                                            )}\n                                        </div>\n                                    </div>\n                                    <div className=\"p-6\">\n                                        <h3 className=\"font-bold text-lg\">{item.title}</h3>\n                                        <p className=\"text-2xl font-bold text-green-600 my-2\">${parseFloat(item.price).toFixed(2)}</p>\n                                        <p className=\"text-sm text-gray-500\"><svg className=\"w-4 h-4 inline -mt-1 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path></svg>{item.location}</p>\n                                        <div className=\"border-t mt-4 pt-4 text-sm text-gray-500\">\n                                            <p>Seller: {item.sellerName}</p>\n                                            <p>Posted: {new Date(item.createdAt).toLocaleDateString()}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))\n                        }\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n}\n\nexport default MarketplacePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}